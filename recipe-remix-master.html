<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Recipe Remix Master</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .main-content {
            padding: 30px;
        }

        .input-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .input-group input, .input-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .input-group input:focus, .input-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: transform 0.2s;
            margin: 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
        }

        .btn-success {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
        }

        .recipe-display {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            max-height: 600px;
            overflow-y: auto;
        }

        .cuisine-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .cuisine-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .cuisine-card:hover {
            border-color: #667eea;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .cuisine-card h3 {
            color: #333;
            margin-bottom: 5px;
        }

        .cuisine-card p {
            color: #666;
            font-size: 0.9em;
        }

        .tips {
            background: #e8f5e8;
            border-left: 4px solid #2ecc71;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .tips h3 {
            color: #27ae60;
            margin-bottom: 10px;
        }

        .tips ul {
            margin-left: 20px;
        }

        .tips li {
            margin-bottom: 5px;
        }

        .hidden {
            display: none;
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: #666;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .cuisine-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üçΩÔ∏è AI Recipe Remix Master</h1>
            <p>Transform your ingredients into delicious recipes with world cuisine flavors!</p>
        </div>

        <div class="main-content">
            <div class="input-section">
                <div class="input-group">
                    <label for="ingredients">üìã Enter your ingredients (comma-separated):</label>
                    <input type="text" id="ingredients" placeholder="e.g., chicken, broccoli, pasta, garlic, olive oil">
                </div>
                
                <button class="btn" onclick="generateRecipe()">üîç Find Recipe</button>
                <button class="btn btn-secondary" onclick="getRandomRecipe()">üé≤ Random Recipe</button>
                <button class="btn btn-success" onclick="showCuisineOptions()">üåç Cuisine Transformations</button>
            </div>

            <div id="cuisineOptions" class="hidden">
                <h3>üåç Transform to World Cuisines</h3>
                <div class="cuisine-grid">
                    <div class="cuisine-card" onclick="transformCuisine('mexican')">
                        <h3>üá≤üáΩ Mexican</h3>
                        <p>Bold flavors, corn-based ingredients, spicy elements</p>
                    </div>
                    <div class="cuisine-card" onclick="transformCuisine('asian')">
                        <h3>üáØüáµ Asian</h3>
                        <p>Umami flavors, quick cooking methods</p>
                    </div>
                    <div class="cuisine-card" onclick="transformCuisine('indian')">
                        <h3>üáÆüá≥ Indian</h3>
                        <p>Complex spice blends, vegetarian-friendly</p>
                    </div>
                    <div class="cuisine-card" onclick="transformCuisine('mediterranean')">
                        <h3>üá¨üá∑ Mediterranean</h3>
                        <p>Fresh vegetables, olive oil, healthy fats</p>
                    </div>
                    <div class="cuisine-card" onclick="transformCuisine('french')">
                        <h3>üá´üá∑ French</h3>
                        <p>Rich sauces, sophisticated flavors</p>
                    </div>
                    <div class="cuisine-card" onclick="transformCuisine('thai')">
                        <h3>üáπüá≠ Thai</h3>
                        <p>Sweet, sour, salty, and spicy balance</p>
                    </div>
                    <div class="cuisine-card" onclick="transformCuisine('japanese')">
                        <h3>üáØüáµ Japanese</h3>
                        <p>Umami, seasonal ingredients, precise techniques</p>
                    </div>
                    <div class="cuisine-card" onclick="transformCuisine('greek')">
                        <h3>üá¨üá∑ Greek</h3>
                        <p>Fresh herbs, olive oil, Mediterranean ingredients</p>
                    </div>
                    <div class="cuisine-card" onclick="transformCuisine('chinese')">
                        <h3>üá®üá≥ Chinese</h3>
                        <p>Balance, texture, five fundamental tastes</p>
                    </div>
                    <div class="cuisine-card" onclick="transformCuisine('italian')">
                        <h3>üáÆüáπ Italian</h3>
                        <p>Fresh ingredients, olive oil, herbs</p>
                    </div>
                </div>
            </div>

            <div class="tips">
                <h3>üí° How to Use:</h3>
                <ul>
                    <li><strong>Find Recipe:</strong> Enter ingredients and get a matching recipe</li>
                    <li><strong>Random Recipe:</strong> Get a surprise recipe from our database</li>
                    <li><strong>Cuisine Transformations:</strong> Transform any recipe to world cuisines</li>
                    <li><strong>Modifications:</strong> Add "make it spicy", "add mushrooms", "use less oil"</li>
                </ul>
            </div>

            <div id="loading" class="loading hidden">
                <div class="spinner"></div>
                <p>Creating your recipe...</p>
            </div>

            <div id="recipeDisplay" class="recipe-display hidden"></div>

            <div class="input-section" id="modificationSection" style="display: none;">
                <div class="input-group">
                    <label for="modifications">üîÑ How would you like to remix this recipe?</label>
                    <input type="text" id="modifications" placeholder="e.g., make it mexican, add a spicy kick, use less oil, add mushrooms">
                </div>
                <button class="btn" onclick="remixRecipe()">üîÑ Remix Recipe</button>
            </div>
        </div>
    </div>

    <script>
        // Recipe database
        const RECIPE_DATABASE = [
            {
                name: "Classic Spaghetti Carbonara",
                ingredients: [
                    {item: "spaghetti", amount: 1, unit: "pound", notes: "or 16 oz"},
                    {item: "eggs", amount: 4, unit: "large", notes: "room temperature"},
                    {item: "pecorino romano cheese", amount: 1, unit: "cup", notes: "freshly grated"},
                    {item: "guanciale", amount: 8, unit: "ounces", notes: "or pancetta, cubed"},
                    {item: "black pepper", amount: 1, unit: "teaspoon", notes: "freshly ground"},
                    {item: "salt", amount: 1, unit: "teaspoon", notes: "for pasta water"}
                ],
                instructions: [
                    "Fill a large pot with water and bring to a boil. Add salt to taste.",
                    "Cook spaghetti according to package directions until al dente. Reserve 1 cup of pasta water.",
                    "In a large skillet, cook guanciale over medium heat until crispy and golden brown.",
                    "Remove skillet from heat and add hot pasta to the pan with guanciale.",
                    "In a bowl, whisk together eggs, grated cheese, and black pepper.",
                    "Quickly pour egg mixture over hot pasta, stirring constantly to create a creamy sauce.",
                    "Add reserved pasta water gradually if needed to achieve desired consistency.",
                    "Serve immediately with extra cheese and black pepper on top."
                ],
                prep_time: 15,
                cook_time: 20,
                total_time: 35,
                servings: 4,
                difficulty: "medium",
                cuisine: "italian",
                tags: ["pasta", "quick", "classic", "dinner"],
                tips: [
                    "Use room temperature eggs to prevent scrambling",
                    "Work quickly when combining pasta and eggs",
                    "Reserve pasta water - it's essential for the sauce",
                    "Don't overcook the pasta - al dente is key"
                ]
            },
            {
                name: "Vegetarian Buddha Bowl",
                ingredients: [
                    {item: "quinoa", amount: 1, unit: "cup", notes: "uncooked, rinsed"},
                    {item: "sweet potato", amount: 1, unit: "large", notes: "peeled and cubed into 1-inch pieces"},
                    {item: "chickpeas", amount: 1, unit: "can", notes: "15 oz, drained and rinsed"},
                    {item: "kale", amount: 2, unit: "cups", notes: "chopped, stems removed"},
                    {item: "avocado", amount: 1, unit: "medium", notes: "sliced"},
                    {item: "olive oil", amount: 2, unit: "tablespoons", notes: "extra virgin, divided"},
                    {item: "lemon", amount: 1, unit: "medium", notes: "juiced (about 2 tbsp)"},
                    {item: "garlic", amount: 2, unit: "cloves", notes: "minced"},
                    {item: "salt", amount: 1, unit: "teaspoon", notes: "divided"},
                    {item: "black pepper", amount: 1, unit: "teaspoon", notes: "divided"},
                    {item: "cumin", amount: 0.5, unit: "teaspoon", notes: "ground"},
                    {item: "paprika", amount: 0.5, unit: "teaspoon", notes: "smoked"}
                ],
                instructions: [
                    "Preheat oven to 400¬∞F (200¬∞C). Line a baking sheet with parchment paper.",
                    "Cook quinoa according to package directions. Set aside to keep warm.",
                    "Toss sweet potato cubes with 1 tablespoon olive oil, salt, pepper, cumin, and paprika.",
                    "Spread sweet potatoes on baking sheet and roast for 25-30 minutes until tender.",
                    "In a skillet, heat remaining olive oil and cook garlic for 30 seconds until fragrant.",
                    "Add chickpeas and cook for 5-7 minutes until golden and slightly crispy.",
                    "Massage kale with lemon juice and salt until softened.",
                    "Assemble bowls with quinoa, roasted sweet potatoes, crispy chickpeas, and kale.",
                    "Top with sliced avocado and serve immediately."
                ],
                prep_time: 20,
                cook_time: 30,
                total_time: 50,
                servings: 2,
                difficulty: "easy",
                cuisine: "vegetarian",
                tags: ["healthy", "bowl", "vegetarian", "gluten-free", "lunch"],
                tips: [
                    "Massage kale thoroughly to make it tender",
                    "Don't overcrowd the baking sheet for crispy sweet potatoes",
                    "Rinse quinoa well to remove bitter coating",
                    "Use fresh lemon juice for best flavor"
                ]
            }
        ];

        // Cuisine transformations
        const CUISINE_TRANSFORMATIONS = {
            mexican: {
                spices: ["cumin", "chili powder", "oregano", "cayenne", "lime", "cilantro"],
                techniques: ["grill", "braise", "slow cook", "char"],
                ingredients: ["corn", "beans", "tortillas", "avocado", "jalape√±os"],
                description: "Mexican cuisine features bold flavors, corn-based ingredients, and spicy elements."
            },
            asian: {
                spices: ["ginger", "soy sauce", "sesame oil", "garlic", "chili", "lemongrass"],
                techniques: ["stir-fry", "steam", "braise", "deep fry"],
                ingredients: ["rice", "noodles", "tofu", "bamboo shoots", "water chestnuts"],
                description: "Asian cuisine emphasizes balance, umami flavors, and quick cooking methods."
            },
            indian: {
                spices: ["turmeric", "cumin", "coriander", "cardamom", "ginger", "garam masala"],
                techniques: ["curry", "tandoor", "slow cook", "temper"],
                ingredients: ["rice", "lentils", "yogurt", "ghee", "naan"],
                description: "Indian cuisine is known for its complex spice blends and vegetarian-friendly options."
            }
        };

        let currentRecipe = null;

        function showLoading() {
            document.getElementById('loading').classList.remove('hidden');
            document.getElementById('recipeDisplay').classList.add('hidden');
        }

        function hideLoading() {
            document.getElementById('loading').classList.add('hidden');
        }

        function formatRecipe(recipe) {
            let formatted = `üçΩÔ∏è ${recipe.name}\n\n`;
            
            // Ingredients section
            formatted += "üìã Ingredients:\n";
            for (let ingredient of recipe.ingredients) {
                let amount = ingredient.amount;
                if (Number.isInteger(amount)) {
                    amount = amount.toString();
                }
                formatted += `- ${amount} ${ingredient.unit} ${ingredient.item}`;
                if (ingredient.notes) {
                    formatted += ` (${ingredient.notes})`;
                }
                formatted += "\n";
            }
            
            // Instructions section
            formatted += `\nüë®‚Äçüç≥ Instructions:\n`;
            for (let i = 0; i < recipe.instructions.length; i++) {
                formatted += `${i + 1}. ${recipe.instructions[i]}\n`;
            }
            
            // Additional info
            formatted += `\n‚è±Ô∏è Prep Time: ${recipe.prep_time} minutes\n`;
            formatted += `üî• Cook Time: ${recipe.cook_time} minutes\n`;
            formatted += `‚è∞ Total Time: ${recipe.total_time} minutes\n`;
            formatted += `üë• Servings: ${recipe.servings}\n`;
            formatted += `üìä Difficulty: ${recipe.difficulty.charAt(0).toUpperCase() + recipe.difficulty.slice(1)}\n`;
            formatted += `üåç Cuisine: ${recipe.cuisine.charAt(0).toUpperCase() + recipe.cuisine.slice(1)}\n`;
            
            if (recipe.tags) {
                formatted += `üè∑Ô∏è Tags: ${recipe.tags.join(', ')}\n`;
            }
            
            // Tips section
            if (recipe.tips) {
                formatted += `\nüí° Chef's Tips:\n`;
                for (let tip of recipe.tips) {
                    formatted += `‚Ä¢ ${tip}\n`;
                }
            }
            
            const output = document.getElementById('recipeOutput');
            const loading = document.getElementById('loading');
            const content = document.getElementById('recipeContent');
            const error = document.getElementById('error');
            
            output.classList.add('show');
            loading.style.display = 'block';
            content.style.display = 'none';
            error.style.display = 'none';
        }

        function showRemixLoading() {
            const loading = document.getElementById('loading');
            loading.textContent = 'AI is remixing the recipe... please wait.';
            showLoading();
        }

        function displayRecipe(recipe) {
            const loading = document.getElementById('loading');
            const content = document.getElementById('recipeContent');
            
            loading.style.display = 'none';
            content.textContent = recipe;
            content.style.display = 'block';
        }

        function showError(message) {
            const output = document.getElementById('recipeOutput');
            const loading = document.getElementById('loading');
            const content = document.getElementById('recipeContent');
            const error = document.getElementById('error');
            
            output.classList.add('show');
            loading.style.display = 'none';
            content.style.display = 'none';
            error.textContent = message;
            error.style.display = 'block';
        }

        function hideRecipeOutput() {
            document.getElementById('recipeOutput').classList.remove('show');
        }

        function hideRemixSection() {
            document.getElementById('remixSection').classList.remove('show');
        }

        function showControls() {
            document.getElementById('controls').style.display = 'flex';
        }

        function hideControls() {
            document.getElementById('controls').style.display = 'none';
        }

        function enableRemix() {
            document.getElementById('remixBtn').disabled = false;
        }

        function disableRemix() {
            document.getElementById('remixBtn').disabled = true;
        }

        // Allow Enter key to generate recipe
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && e.target.id === 'ingredients') {
                generateRecipe();
            }
        });

        function saveRecipe() {
            if (!currentRecipe) {
                showError('No recipe to save. Please generate a recipe first.');
                return;
            }

            // Create a unique ID for the recipe
            const recipeId = Date.now().toString();
            
            // Extract recipe name from the first line
            const recipeName = currentRecipe.split('\n')[0].replace(/^[üçùüçïü•öü•óüçõüêüüçΩÔ∏è]+\s*/, '').trim();
            
            const recipeToSave = {
                id: recipeId,
                name: recipeName,
                content: currentRecipe,
                date: new Date().toLocaleDateString(),
                ingredients: document.getElementById('ingredients').value
            };

            // Check if recipe already exists
            const existingIndex = savedRecipes.findIndex(recipe => 
                recipe.content === currentRecipe
            );

            if (existingIndex !== -1) {
                showSaveMessage('Recipe already saved in favorites!');
                return;
            }

            savedRecipes.push(recipeToSave);
            saveRecipesToStorage();
            showSaveMessage('Recipe saved to favorites!');
        }

        function showSaveMessage(message) {
            const messageDiv = document.createElement('div');
            messageDiv.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: rgba(40, 167, 69, 0.9);
                color: white;
                padding: 15px 25px;
                border-radius: 10px;
                z-index: 1000;
                font-size: 16px;
                text-align: center;
            `;
            messageDiv.textContent = message;
            document.body.appendChild(messageDiv);
            
            setTimeout(() => {
                messageDiv.remove();
            }, 2000);
        }

        function showFavorites() {
            const favoritesSection = document.getElementById('favoritesSection');
            const favoritesList = document.getElementById('favoritesList');
            
            if (savedRecipes.length === 0) {
                favoritesList.innerHTML = '<div class="no-favorites">No favorite recipes yet. Save a recipe to see it here!</div>';
            } else {
                favoritesList.innerHTML = '';
                savedRecipes.forEach(recipe => {
                    const recipeElement = createFavoriteRecipeElement(recipe);
                    favoritesList.appendChild(recipeElement);
                });
            }
            
            favoritesSection.classList.add('show');
        }

        function hideFavorites() {
            document.getElementById('favoritesSection').classList.remove('show');
        }

        function goToMainScreen() {
            // Hide favorites section
            hideFavorites();
            
            // Hide selected category heading
            document.getElementById('selectedCategory').classList.remove('show');
            
            // Clear current recipe and reset interface
            currentRecipe = '';
            document.getElementById('ingredients').value = '';
            hideRecipeOutput();
            hideRemixSection();
            hideControls();
            
            // Reset sidebar visual feedback
            document.querySelectorAll('.dietary-option').forEach(option => {
                option.style.transform = 'scale(1)';
                option.style.boxShadow = 'none';
            });
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function createFavoriteRecipeElement(recipe) {
            const div = document.createElement('div');
            div.className = 'favorite-recipe';
            div.innerHTML = `
                <h4>${recipe.name}</h4>
                <div class="favorite-recipe-content">${recipe.content.substring(0, 200)}...</div>
                <div class="favorite-recipe-actions">
                    <button class="favorite-btn view" onclick="viewRecipe('${recipe.id}')" title="View Recipe">üëÅÔ∏è</button>
                    <button class="favorite-btn remove" onclick="removeRecipe('${recipe.id}')" title="Remove from Favorites">üóëÔ∏è</button>
                </div>
            `;
            return div;
        }

        function viewRecipe(recipeId) {
            const recipe = savedRecipes.find(r => r.id === recipeId);
            if (recipe) {
                // Load the recipe into the main interface
                document.getElementById('ingredients').value = recipe.ingredients;
                currentRecipe = recipe.content;
                displayRecipe(recipe.content);
                showControls();
                hideFavorites();
                
                // Scroll to recipe
                document.getElementById('recipeOutput').scrollIntoView({ behavior: 'smooth' });
            }
        }

        function removeRecipe(recipeId) {
            const index = savedRecipes.findIndex(r => r.id === recipeId);
            if (index !== -1) {
                savedRecipes.splice(index, 1);
                saveRecipesToStorage();
                showFavorites(); // Refresh the favorites list
                showSaveMessage('Recipe removed from favorites!');
            }
        }

        function showConversionChart() {
            document.getElementById('conversionSection').classList.add('show');
        }

        function hideConversionChart() {
            document.getElementById('conversionSection').classList.remove('show');
        }
    </script>
</body>
</html> 